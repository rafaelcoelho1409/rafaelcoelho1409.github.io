<div class="latest-feed">
  {% assign articles = site.posts | where_exp: 'item', "item.categories contains 'published-articles'" %}
  {% assign projects = site.projects %}
  {% assign all_items = articles | concat: projects | sort: 'date' | reverse %}
  {% assign all_items_size = all_items | size %}
  {% if all_items_size > 0 %}
    <div
      class="table-responsive"
      {% if page.latest.scrollable and all_items_size > 3 %}
        style="max-height: 60vw"
      {% endif %}
    >
      <table class="table table-sm table-borderless">
        {% if page.latest.limit %}
          {% assign feed_limit = page.latest.limit %}
        {% else %}
          {% assign feed_limit = all_items_size %}
        {% endif %}
        {% for item in all_items limit: feed_limit %}
          <tr>
            <td style="width: 12%; vertical-align: middle; padding: 12px 8px;">
              <span style="font-size: 0.9rem; font-weight: 500; color: var(--global-text-color-light, #6c757d);">
                {{ item.date | date: '%b %Y' }}
              </span>
            </td>
            <td style="width: 10%; vertical-align: middle; padding: 12px 8px;">
              {% if item.collection == 'projects' %}
                <span style="background: linear-gradient(135deg, #0076df, #0056af); color: #fff; padding: 4px 10px; border-radius: 20px; font-size: 0.7rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">Project</span>
              {% else %}
                <span style="background: linear-gradient(135deg, #f29105, #d47d04); color: #fff; padding: 4px 10px; border-radius: 20px; font-size: 0.7rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">Article</span>
              {% endif %}
            </td>
            <td style="vertical-align: middle; padding: 12px 8px;">
              <div style="display: flex; flex-direction: column; gap: 6px;">
                {% if item.redirect == blank %}
                  <a class="news-title" href="{{ item.url | relative_url }}" style="font-size: 1.1rem; font-weight: 600; color: var(--global-text-color); text-decoration: none; transition: color 0.2s ease;">{{ item.title }}</a>
                {% elsif item.redirect contains '://' %}
                  <a class="news-title" href="{{ item.redirect }}" target="_blank" style="font-size: 1.1rem; font-weight: 600; color: var(--global-text-color); text-decoration: none; transition: color 0.2s ease;">
                    {{ item.title }}
                    <svg width="1rem" height="1rem" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg" style="vertical-align: middle; margin-left: 4px;">
                      <path d="M17 13.5v6H5v-12h6m3-3h6v6m0-6-9 9" class="icon_svg-stroke" stroke="#999" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path>
                    </svg>
                  </a>
                {% else %}
                  <a class="news-title" href="{{ item.redirect | relative_url }}" style="font-size: 1.1rem; font-weight: 600; color: var(--global-text-color); text-decoration: none; transition: color 0.2s ease;">{{ item.title }}</a>
                {% endif %}
                {% if item.keywords %}
                  <div style="display: flex; flex-wrap: wrap; gap: 6px;">
                    {% for keyword in item.keywords %}
                      <span style="background-color: var(--global-code-bg-color, #f8f9fa); color: var(--global-text-color-light, #6c757d); padding: 2px 8px; border-radius: 4px; font-size: 0.75rem; font-weight: 500; border: 1px solid var(--global-divider-color, #dee2e6);">{{ keyword }}</span>
                    {% endfor %}
                  </div>
                {% endif %}
              </div>
            </td>
          </tr>
        {% endfor %}
      </table>
    </div>
  {% else %}
    <p>No items so far...</p>
  {% endif %}
</div>
